jQuery(document).ready(function($){var hash=window.location.hash.replace("#",""),$tabs=$(".js-tabs"),$body=$("body");if($tabs.length){var $tab_list;if($tabs.find(".js-tablist").each(function(){var $this_tab_list=$(this),options=$this_tab_list.data(),$tabs_prefix_classes=void 0!==options.tabsPrefixClass?options.tabsPrefixClass+"-":"",$hx=void 0!==options.hx?options.hx:"",$existing_hx=void 0!==options.existingHx?options.existingHx:"",$this_tab_list_items=$this_tab_list.children(".js-tablist__item"),$this_tab_list_links=$this_tab_list.find(".js-tablist__link");$this_tab_list.attr("role","tablist"),$this_tab_list_items.attr("role","presentation"),$this_tab_list_links.attr("role","tab"),$this_tab_list.addClass($tabs_prefix_classes+"tabs__list"),$this_tab_list_items.addClass($tabs_prefix_classes+"tabs__item"),$this_tab_list_links.addClass($tabs_prefix_classes+"tabs__link"),$this_tab_list_links.each(function(){var $this=$(this),$hx_generated_class=void 0!==options.tabsGeneratedHxClass?options.tabsGeneratedHxClass:"invisible",$href=$this.attr("href"),$controls=$($href),$text=$this.text();""!==$hx&&$controls.prepend("<"+$hx+' class="'+$hx_generated_class+'" tabindex="0">'+$text+"</"+$hx+">"),""!==$existing_hx&&$controls.find($existing_hx+":first-child").attr("tabindex",0),void 0!==$href&&""!==$href&&"#"!==$href&&$this.attr({"aria-controls":$href.replace("#",""),tabindex:-1,"aria-selected":"false"}),$this.removeAttr("href")})}),$(".js-tabcontent").attr({role:"tabpanel","aria-hidden":"true"}).each(function(){var $this=$(this),$this_id=$this.attr("id"),$prefix_attribute=$("#label_"+$this_id).closest(".js-tablist").attr("data-tabs-prefix-class"),$tabs_prefix_classes=void 0!==$prefix_attribute?$prefix_attribute+"-":"";$this.attr("aria-labelledby","label_"+$this_id),$this.addClass($tabs_prefix_classes+"tabs__content")}),""!==hash&&0!==$("#"+hash+".js-tabcontent").length&&$("#label_"+hash+".js-tablist__link:not([aria-disabled='true'])").length&&($("#"+hash+".js-tabcontent").removeAttr("aria-hidden"),$("#label_"+hash+".js-tablist__link").attr({"aria-selected":"true",tabindex:0})),""!==hash&&$("#"+hash).parents(".js-tabcontent").length){var $this_hash,$tab_content_parent=$("#"+hash).parents(".js-tabcontent"),$tab_content_parent_id=$tab_content_parent.attr("id");$("#label_"+$tab_content_parent_id+".js-tablist__link:not([aria-disabled='true'])").length&&($tab_content_parent.removeAttr("aria-hidden"),$("#label_"+$tab_content_parent_id+".js-tablist__link").attr({"aria-selected":"true",tabindex:0}))}$tabs.each(function(){var $this=$(this),$tab_selected=$this.find('.js-tablist__link[aria-selected="true"]'),$tab_data_selected=$this.find('.js-tablist__link[data-selected="1"]:not([aria-disabled="true"]):first'),$tab_data_selected_content=$("#"+$tab_data_selected.attr("aria-controls"));0===$tab_selected.length&&0!==$tab_data_selected.length&&($tab_data_selected.attr({"aria-selected":"true",tabindex:0}),$tab_data_selected_content.removeAttr("aria-hidden"))}),$tabs.each(function(){var $this=$(this),$tab_selected=$this.find('.js-tablist__link[aria-selected="true"]'),$first_link=$this.find('.js-tablist__link:not([aria-disabled="true"]):first'),$first_content=$("#"+$first_link.attr("aria-controls"));0===$tab_selected.length&&($first_link.attr({"aria-selected":"true",tabindex:0}),$first_content.removeAttr("aria-hidden"))}),$body.on("click",".js-tablist__link[aria-disabled='true']",function(){return!1}),$body.on("click",".js-tablist__link:not([aria-disabled='true'])",function(event){var $this=$(this),$hash_to_update=$this.attr("aria-controls"),$tab_content_linked=$("#"+$this.attr("aria-controls")),$parent=$this.closest(".js-tabs"),options,tabs_disable_fragments=void 0!==$parent.data().tabsDisableFragment,$all_tab_links=$parent.find(".js-tablist__link"),$all_tab_contents=$parent.find(".js-tabcontent");$all_tab_links.attr({tabindex:-1,"aria-selected":"false"}),$this.attr({"aria-selected":"true",tabindex:0}),$all_tab_contents.attr("aria-hidden","true"),$tab_content_linked.removeAttr("aria-hidden"),!1===tabs_disable_fragments&&setTimeout(function(){history.pushState(null,null,location.pathname+location.search+"#"+$hash_to_update)},1e3),event.preventDefault()}).on("keydown",".js-tablist",function(event){var $parent=$(this).closest(".js-tabs"),$activated=$parent.find('.js-tablist__link[aria-selected="true"]').parent(),$last_link=$parent.find(".js-tablist__item:last-child .js-tablist__link"),$first_link=$parent.find(".js-tablist__item:first-child .js-tablist__link"),$focus_on_tab_only=!1,$prev=$activated,$next=$activated;do{$prev=$prev.is(".js-tablist__item:first-child")?$last_link.parent():$prev.prev()}while("true"===$prev.children(".js-tablist__link").attr("aria-disabled")&&$prev!==$activated);do{$next=$next.is(".js-tablist__item:last-child")?$first_link.parent():$next.next()}while("true"===$next.children(".js-tablist__link").attr("aria-disabled")&&$next!==$activated);$(document.activeElement).is($parent.find(".js-tablist__link"))&&($focus_on_tab_only=!0),$focus_on_tab_only&&!event.ctrlKey&&(37==event.keyCode||38==event.keyCode?($prev.children(".js-tablist__link").click().focus(),event.preventDefault()):40==event.keyCode||39==event.keyCode?($next.children(".js-tablist__link").click().focus(),event.preventDefault()):36==event.keyCode?($first_link.click().focus(),event.preventDefault()):35==event.keyCode&&($last_link.click().focus(),event.preventDefault()))}).on("keydown",".js-tabcontent",function(event){var $this,$selector_tab_to_focus=$(this).attr("aria-labelledby"),$tab_to_focus=$("#"+$selector_tab_to_focus),$parent_item=$tab_to_focus.parent(),$parent_list=$parent_item.parent(),$first_item=$parent_list.find(".js-tablist__item:first-child"),$last_item=$parent_list.find(".js-tablist__item:last-child"),$prev_item=$parent_item,$next_item=$parent_item;if(37!=event.keyCode&&38!=event.keyCode||!event.ctrlKey||($tab_to_focus.focus(),event.preventDefault()),33==event.keyCode&&event.ctrlKey){do{$prev_item=$prev_item.is(".js-tablist__item:first-child")?$last_item:$prev_item.prev()}while("true"===$prev_item.children(".js-tablist__link").attr("aria-disabled")&&$prev_item!==$parent_item);$prev_item.children(".js-tablist__link").click().focus(),event.preventDefault()}if(34==event.keyCode&&event.ctrlKey){$tab_to_focus.focus();do{$next_item=$next_item.is(".js-tablist__item:last-child")?$first_item:$next_item.next()}while("true"===$next_item.children(".js-tablist__link").attr("aria-disabled")&&$next_item!==$parent_item);$next_item.children(".js-tablist__link").click().focus(),event.preventDefault()}}).on("click",".js-link-to-tab",function(){var $this=$(this),$tab_to_go=$($this.attr("href")),$button_to_click=$("#"+$tab_to_go.attr("aria-labelledby"));"true"!==$button_to_click.attr("aria-disabled")&&($button_to_click.click(),setTimeout(function(){$button_to_click.focus()},10))})}});